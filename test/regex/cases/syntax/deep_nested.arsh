
source $SCRIPT_DIR/test_helper.arsh

# deep-nested group
var rr = @(
    $'((((((((((((((((((((((((((((((((\n'
    $'((((((((((((((((((((((((((((((((\n'
    $'((((((((((((((((((((((((((((((((\n'
    $'((((((((((((((((((((((((((((((((\n'
    $'((((((((((((((((((((((((((((((((\n'
    $'((((((((((((((((((((((((((((((((\n'
    $'((((((((((((((((((((((((((((((((\n'
    $'((((((((((((((((((((((((((((((((\n'
).join("")


assert diff <(redump $rr '') <(<<'EOF'
8:33 [error] deeply nested regular expression
 at (pos = 262, size = 1)
EOF
)