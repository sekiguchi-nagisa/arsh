
#$test($result = 'EXIT', $status = 100, $lineNum = 13, $out = $'receive error: 100\n')

function f() {
    var s = $?
    $SIGTERM.kill($$)
    echo receive error: $s
}

$TERM_HOOK = $f

function ss($s : Signal) {
    exit 100
}

$SIG['TERM'].trap($ss)

$SIGTERM.kill($$)

exit 5