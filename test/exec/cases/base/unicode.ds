
# for UnicodeData

var ex = 23 as Any
var ucd = new UnicodeData()

# string representation is equivalent to unicode version string
assert "$ucd" == { shctl info > /dev/null; $reply["%unicode"]; }  

# category (for Unicode 17)
var expected = [
    ($'\0',"Cc"), ($'\U009F', 'Cc'),
    ($'\u202E',"Cf"), ($'\UE007C', 'Cf'),
    ($'\uE002', "Co"), ($'\UF0030', 'Co'), ($'\U10FFED', 'Co'),
    ($'\u085C', 'Cn'), ($'\u128E', 'Cn'), ($'\U108B2', 'Cn'),
    # ($'\uD800', 'Cs'),  # surrogate (never appeared in utf8)
    ('a', 'Ll'), ($'\U1D451', 'Ll'),
    ($'\u02E2', 'Lm'), ($'\U16FE0', 'Lm'),
    ($'\u0692', 'Lo'), ($'\u3728', 'Lo'), ($'\U2B820', 'Lo'),
    ($'\U1F89', 'Lt'),
    ($'\UA77B', 'Lu'), ($'\U1D517', 'Lu'),
    ($'\U0BCA', 'Mc'), ($'\U11F41', 'Mc'),
    ($'\u20E2', 'Me'),
    ($'\u0AFB', 'Mn'), ($'\U11130', 'Mn'),
    ($'\u0CE7', 'Nd'), ($'\U11F52', 'Nd'),
    ($'\U2177', 'Nl'), ($'\U12436', 'Nl'),
    ($'\U3249', 'No'), ($'\U16B5B', 'No'),
    ($'\U2054', 'Pc'), 
    ($'\U2012', 'Pd'), ($'\U10D6E', 'Pd'),
    ($'\U232A', 'Pe'), 
    ($'\U2E0D', 'Pf'),
    ($'\U2E02', 'Pi'), 
    ($'\UFE12', 'Po'), ($'\U11A9F', 'Po'),
    ($'\UFF62', 'Ps'),
    ($'\UFFE0', 'Sc'), ($'\U11FDF', 'Sc'), 
    ($'\UA703', 'Sk'), ($'\U1F3FD', 'Sk'),
    ($'\U2B49', 'Sm'), ($'\U1D76F', 'Sm'),
    ($'\U0D4F', 'So'), ($'\U1F999', 'So'),
    ($'\U2028', 'Zl'), 
    ($'\U2029', 'Zp'), 
    ($'\U2003', 'Zs'), 
]

for e in $expected {
    assert $e._1 == $ucd.category($e._0)  : "$e"
}

$ex = 324
try { $ucd.category($'\uD800') } catch e { $ex = $e; } # surrogate
assert ($ex as ArgumentError).message() == 'must be valid single utf8 code point'

$ex = 34
try { $ucd.category($'„ÅÇ1') } catch e { $ex = $e; }
assert ($ex as ArgumentError).message() == 'must be valid single utf8 code point'

# script (for Unicode 17)
$expected = [
     ($'\U2623', 'Common'), ($'\U1D682', 'Common'), ($'\U1D759', 'Common'), 
    ($'\U00CD', 'Latin'), ($'\U1ED6', 'Latin'), ($'\UAB5F', 'Latin'), 
    ($'\U03C9', 'Greek'), ($'\U1F6E', 'Greek'), ($'\U1D23C', 'Greek'), 
    ($'\U043E', 'Cyrillic'), ($'\U0474', 'Cyrillic'), ($'\U1E03A', 'Cyrillic'), 
    ($'\U0536', 'Armenian'), ($'\U0539', 'Armenian'), ($'\U0544', 'Armenian'), 
    ($'\U05B9', 'Hebrew'), ($'\U05F3', 'Hebrew'), ($'\UFB2D', 'Hebrew'), 
    ($'\UFD35', 'Arabic'), ($'\U1EE0D', 'Arabic'), ($'\U1EE62', 'Arabic'), 
    ($'\U0705', 'Syriac'), ($'\U0728', 'Syriac'), ($'\U0744', 'Syriac'), 
    ($'\U0796', 'Thaana'), ($'\U07A3', 'Thaana'), ($'\U07AB', 'Thaana'), 
    ($'\U0903', 'Devanagari'), ($'\U091E', 'Devanagari'), ($'\U0976', 'Devanagari'), 
    ($'\U09A0', 'Bengali'), ($'\U09B7', 'Bengali'), ($'\U09DD', 'Bengali'), 
    ($'\U0A1A', 'Gurmukhi'), ($'\U0A20', 'Gurmukhi'), ($'\U0A47', 'Gurmukhi'), 
    ($'\U0A86', 'Gujarati'), ($'\U0A8B', 'Gujarati'), ($'\U0AFF', 'Gujarati'), 
    ($'\U0B2A', 'Oriya'), ($'\U0B3C', 'Oriya'), ($'\U0B43', 'Oriya'), 
    ($'\U0B87', 'Tamil'), ($'\U0B99', 'Tamil'), ($'\U11FEC', 'Tamil'), 
    ($'\U0C2B', 'Telugu'), ($'\U0C48', 'Telugu'), ($'\U0C4D', 'Telugu'), 
    ($'\U0C8C', 'Kannada'), ($'\U0CB5', 'Kannada'), ($'\U0CDC', 'Kannada'), 
    ($'\U0D38', 'Malayalam'), ($'\U0D67', 'Malayalam'), ($'\U0D77', 'Malayalam'), 
    ($'\U0DAD', 'Sinhala'), ($'\U0DB3', 'Sinhala'), ($'\U111EF', 'Sinhala'), 
    ($'\U0E17', 'Thai'), ($'\U0E4A', 'Thai'), ($'\U0E58', 'Thai'), 
    ($'\U0EB2', 'Lao'), ($'\U0EB9', 'Lao'), ($'\U0EC0', 'Lao'), 
    ($'\U0F24', 'Tibetan'), ($'\U0F61', 'Tibetan'), ($'\U0FA9', 'Tibetan'), 
    ($'\U1008', 'Myanmar'), ($'\U101C', 'Myanmar'), ($'\U103E', 'Myanmar'), 
    ($'\U10A7', 'Georgian'), ($'\U10F0', 'Georgian'), ($'\U10F1', 'Georgian'), 
    ($'\UB248', 'Hangul'), ($'\UBAE9', 'Hangul'), ($'\UCE35', 'Hangul'), 
    ($'\U123D', 'Ethiopic'), ($'\U1242', 'Ethiopic'), ($'\UAB12', 'Ethiopic'), 
    ($'\U13A8', 'Cherokee'), ($'\U13AD', 'Cherokee'), ($'\U13D6', 'Cherokee'), 
    ($'\U143F', 'Canadian_Aboriginal'), ($'\U153D', 'Canadian_Aboriginal'), ($'\U18C2', 'Canadian_Aboriginal'), 
    ($'\U1686', 'Ogham'), ($'\U168E', 'Ogham'), ($'\U169B', 'Ogham'), 
    ($'\U16B1', 'Runic'), ($'\U16D2', 'Runic'), ($'\U16DA', 'Runic'), 
    ($'\U17BF', 'Khmer'), ($'\U17D5', 'Khmer'), ($'\U19F3', 'Khmer'), 
    ($'\U184A', 'Mongolian'), ($'\U186F', 'Mongolian'), ($'\U188B', 'Mongolian'), 
    ($'\U3076', 'Hiragana'), ($'\U1B038', 'Hiragana'), ($'\U1B116', 'Hiragana'), 
    ($'\U31F6', 'Katakana'), ($'\U3356', 'Katakana'), ($'\UFF7E', 'Katakana'), 
    ($'\U3119', 'Bopomofo'), ($'\U31A3', 'Bopomofo'), ($'\U31A6', 'Bopomofo'), 
    ($'\U5F8C', 'Han'), ($'\U2CEAA', 'Han'), ($'\U32E6D', 'Han'), 
    ($'\UA244', 'Yi'), ($'\UA327', 'Yi'), ($'\UA41D', 'Yi'), 
    ($'\U10315', 'Old_Italic'), ($'\U1031D', 'Old_Italic'), ($'\U1032F', 'Old_Italic'), 
    ($'\U1033A', 'Gothic'), ($'\U1033C', 'Gothic'), ($'\U10343', 'Gothic'), 
    ($'\U1041F', 'Deseret'), ($'\U10430', 'Deseret'), ($'\U10439', 'Deseret'), 
    ($'\U033D', 'Inherited'), ($'\U1CE8', 'Inherited'), ($'\UE0112', 'Inherited'), 
    ($'\U1706', 'Tagalog'), ($'\U170D', 'Tagalog'), ($'\U1711', 'Tagalog'), 
    ($'\U1722', 'Hanunoo'), ($'\U1725', 'Hanunoo'), ($'\U1726', 'Hanunoo'), 
    ($'\U1744', 'Buhid'), ($'\U174C', 'Buhid'), ($'\U174E', 'Buhid'), 
    ($'\U1760', 'Tagbanwa'), ($'\U176A', 'Tagbanwa'), ($'\U176B', 'Tagbanwa'), 
    ($'\U1913', 'Limbu'), ($'\U194A', 'Limbu'), ($'\U194F', 'Limbu'), 
    ($'\U1958', 'Tai_Le'), ($'\U196C', 'Tai_Le'), ($'\U1974', 'Tai_Le'), 
    ($'\U10000', 'Linear_B'), ($'\U10003', 'Linear_B'), ($'\U1001C', 'Linear_B'), 
    ($'\U10380', 'Ugaritic'), ($'\U10387', 'Ugaritic'), ($'\U1039C', 'Ugaritic'), 
    ($'\U10454', 'Shavian'), ($'\U10458', 'Shavian'), ($'\U10469', 'Shavian'), 
    ($'\U1048D', 'Osmanya'), ($'\U1049B', 'Osmanya'), ($'\U104A8', 'Osmanya'), 
    ($'\U10801', 'Cypriot'), ($'\U10823', 'Cypriot'), ($'\U10834', 'Cypriot'), 
    ($'\U2871', 'Braille'), ($'\U2879', 'Braille'), ($'\U28B7', 'Braille'), 
    ($'\U1A04', 'Buginese'), ($'\U1A07', 'Buginese'), ($'\U1A0A', 'Buginese'), 
    ($'\U2C8F', 'Coptic'), ($'\U2CC5', 'Coptic'), ($'\U2CD0', 'Coptic'), 
    ($'\U19A8', 'New_Tai_Lue'), ($'\U19B3', 'New_Tai_Lue'), ($'\U19D2', 'New_Tai_Lue'), 
    ($'\U2C17', 'Glagolitic'), ($'\U2C31', 'Glagolitic'), ($'\U2C36', 'Glagolitic'), 
    ($'\U2D48', 'Tifinagh'), ($'\U2D59', 'Tifinagh'), ($'\U2D64', 'Tifinagh'), 
    ($'\UA800', 'Syloti_Nagri'), ($'\UA80B', 'Syloti_Nagri'), ($'\UA819', 'Syloti_Nagri'), 
    ($'\U103B7', 'Old_Persian'), ($'\U103C8', 'Old_Persian'), ($'\U103CF', 'Old_Persian'), 
    ($'\U10A0F', 'Kharoshthi'), ($'\U10A17', 'Kharoshthi'), ($'\U10A58', 'Kharoshthi'), 
    ($'\U1B2C', 'Balinese'), ($'\U1B38', 'Balinese'), ($'\U1B65', 'Balinese'), 
    ($'\U12108', 'Cuneiform'), ($'\U12127', 'Cuneiform'), ($'\U12300', 'Cuneiform'), 
    ($'\U1090E', 'Phoenician'), ($'\U10913', 'Phoenician'), ($'\U1091F', 'Phoenician'), 
    ($'\UA85D', 'Phags_Pa'), ($'\UA868', 'Phags_Pa'), ($'\UA870', 'Phags_Pa'), 
    ($'\U07CB', 'Nko'), ($'\U07F0', 'Nko'), ($'\U07F4', 'Nko'), 
    ($'\U1B88', 'Sundanese'), ($'\U1B91', 'Sundanese'), ($'\U1BA0', 'Sundanese'), 
    ($'\U1C0D', 'Lepcha'), ($'\U1C2F', 'Lepcha'), ($'\U1C31', 'Lepcha'), 
    ($'\U1C5D', 'Ol_Chiki'), ($'\U1C75', 'Ol_Chiki'), ($'\U1C77', 'Ol_Chiki'), 
    ($'\UA525', 'Vai'), ($'\UA58F', 'Vai'), ($'\UA5F3', 'Vai'), 
    ($'\UA89C', 'Saurashtra'), ($'\UA8B2', 'Saurashtra'), ($'\UA8BB', 'Saurashtra'), 
    ($'\UA90E', 'Kayah_Li'), ($'\UA920', 'Kayah_Li'), ($'\UA925', 'Kayah_Li'), 
    ($'\UA93B', 'Rejang'), ($'\UA93C', 'Rejang'), ($'\UA951', 'Rejang'), 
    ($'\U10288', 'Lycian'), ($'\U1028C', 'Lycian'), ($'\U10298', 'Lycian'), 
    ($'\U102AC', 'Carian'), ($'\U102B6', 'Carian'), ($'\U102C3', 'Carian'), 
    ($'\U10931', 'Lydian'), ($'\U10932', 'Lydian'), ($'\U10933', 'Lydian'), 
    ($'\UAA02', 'Cham'), ($'\UAA0B', 'Cham'), ($'\UAA59', 'Cham'), 
    ($'\U1A30', 'Tai_Tham'), ($'\U1A46', 'Tai_Tham'), ($'\U1A99', 'Tai_Tham'), 
    ($'\UAAA3', 'Tai_Viet'), ($'\UAAB6', 'Tai_Viet'), ($'\UAABD', 'Tai_Viet'), 
    ($'\U10B0B', 'Avestan'), ($'\U10B16', 'Avestan'), ($'\U10B1A', 'Avestan'), 
    ($'\U1316B', 'Egyptian_Hieroglyphs'), ($'\U1347E', 'Egyptian_Hieroglyphs'), ($'\U13DDE', 'Egyptian_Hieroglyphs'), 
    ($'\U0820', 'Samaritan'), ($'\U0822', 'Samaritan'), ($'\U0837', 'Samaritan'), 
    ($'\UA4DE', 'Lisu'), ($'\UA4E1', 'Lisu'), ($'\UA4E9', 'Lisu'), 
    ($'\U1690B', 'Bamum'), ($'\U169B9', 'Bamum'), ($'\U169E0', 'Bamum'), 
    ($'\UA98F', 'Javanese'), ($'\UA9B5', 'Javanese'), ($'\UA9D7', 'Javanese'), 
    ($'\UAAF3', 'Meetei_Mayek'), ($'\UABDB', 'Meetei_Mayek'), ($'\UABE0', 'Meetei_Mayek'), 
    ($'\U10846', 'Imperial_Aramaic'), ($'\U10849', 'Imperial_Aramaic'), ($'\U1084A', 'Imperial_Aramaic'), 
    ($'\U10A62', 'Old_South_Arabian'), ($'\U10A70', 'Old_South_Arabian'), ($'\U10A72', 'Old_South_Arabian'), 
    ($'\U10B41', 'Inscriptional_Parthian'), ($'\U10B4A', 'Inscriptional_Parthian'), ($'\U10B51', 'Inscriptional_Parthian'), 
    ($'\U10B69', 'Inscriptional_Pahlavi'), ($'\U10B6A', 'Inscriptional_Pahlavi'), ($'\U10B7F', 'Inscriptional_Pahlavi'), 
    ($'\U10C16', 'Old_Turkic'), ($'\U10C17', 'Old_Turkic'), ($'\U10C32', 'Old_Turkic'), 
    ($'\U11084', 'Kaithi'), ($'\U110AA', 'Kaithi'), ($'\U110B8', 'Kaithi'), 
    ($'\U1BCB', 'Batak'), ($'\U1BD2', 'Batak'), ($'\U1BD5', 'Batak'), 
    ($'\U11033', 'Brahmi'), ($'\U1103D', 'Brahmi'), ($'\U1105B', 'Brahmi'), 
    ($'\U0840', 'Mandaic'), ($'\U084E', 'Mandaic'), ($'\U085B', 'Mandaic'), 
    ($'\U1110E', 'Chakma'), ($'\U1110F', 'Chakma'), ($'\U1113F', 'Chakma'), 
    ($'\U109A2', 'Meroitic_Cursive'), ($'\U109CB', 'Meroitic_Cursive'), ($'\U109E8', 'Meroitic_Cursive'), 
    ($'\U1098E', 'Meroitic_Hieroglyphs'), ($'\U1098F', 'Meroitic_Hieroglyphs'), ($'\U10997', 'Meroitic_Hieroglyphs'), 
    ($'\U16F10', 'Miao'), ($'\U16F7F', 'Miao'), ($'\U16F98', 'Miao'), 
    ($'\U111C4', 'Sharada'), ($'\U111D4', 'Sharada'), ($'\U11B65', 'Sharada'), 
    ($'\U110D7', 'Sora_Sompeng'), ($'\U110E3', 'Sora_Sompeng'), ($'\U110F4', 'Sora_Sompeng'), 
    ($'\U1168C', 'Takri'), ($'\U116C0', 'Takri'), ($'\U116C3', 'Takri'), 
    ($'\U10549', 'Caucasian_Albanian'), ($'\U1054A', 'Caucasian_Albanian'), ($'\U10561', 'Caucasian_Albanian'), 
    ($'\U16ADC', 'Bassa_Vah'), ($'\U16AE5', 'Bassa_Vah'), ($'\U16AE8', 'Bassa_Vah'), 
    ($'\U1BC09', 'Duployan'), ($'\U1BC20', 'Duployan'), ($'\U1BC3F', 'Duployan'), 
    ($'\U10508', 'Elbasan'), ($'\U1050A', 'Elbasan'), ($'\U1051C', 'Elbasan'), 
    ($'\U11316', 'Grantha'), ($'\U11328', 'Grantha'), ($'\U11341', 'Grantha'), 
    ($'\U16B14', 'Pahawh_Hmong'), ($'\U16B3B', 'Pahawh_Hmong'), ($'\U16B58', 'Pahawh_Hmong'), 
    ($'\U11210', 'Khojki'), ($'\U11214', 'Khojki'), ($'\U1121A', 'Khojki'), 
    ($'\U1066C', 'Linear_A'), ($'\U106A3', 'Linear_A'), ($'\U1070D', 'Linear_A'), 
    ($'\U11152', 'Mahajani'), ($'\U11164', 'Mahajani'), ($'\U1116C', 'Mahajani'), 
    ($'\U10AD7', 'Manichaean'), ($'\U10AE6', 'Manichaean'), ($'\U10AF4', 'Manichaean'), 
    ($'\U1E854', 'Mende_Kikakui'), ($'\U1E85A', 'Mende_Kikakui'), ($'\U1E8B1', 'Mende_Kikakui'), 
    ($'\U11621', 'Modi'), ($'\U11637', 'Modi'), ($'\U11659', 'Modi'), 
    ($'\U16A40', 'Mro'), ($'\U16A57', 'Mro'), ($'\U16A62', 'Mro'), 
    ($'\U10A84', 'Old_North_Arabian'), ($'\U10A8E', 'Old_North_Arabian'), ($'\U10A92', 'Old_North_Arabian'), 
    ($'\U10881', 'Nabataean'), ($'\U10883', 'Nabataean'), ($'\U10887', 'Nabataean'), 
    ($'\U10866', 'Palmyrene'), ($'\U1086A', 'Palmyrene'), ($'\U10875', 'Palmyrene'), 
    ($'\U11AC6', 'Pau_Cin_Hau'), ($'\U11AE7', 'Pau_Cin_Hau'), ($'\U11AF1', 'Pau_Cin_Hau'), 
    ($'\U10359', 'Old_Permic'), ($'\U10376', 'Old_Permic'), ($'\U1037A', 'Old_Permic'), 
    ($'\U10B8F', 'Psalter_Pahlavi'), ($'\U10B99', 'Psalter_Pahlavi'), ($'\U10BA9', 'Psalter_Pahlavi'), 
    ($'\U11584', 'Siddham'), ($'\U1158B', 'Siddham'), ($'\U1158C', 'Siddham'), 
    ($'\U112B4', 'Khudawadi'), ($'\U112C7', 'Khudawadi'), ($'\U112EA', 'Khudawadi'), 
    ($'\U1148E', 'Tirhuta'), ($'\U114B2', 'Tirhuta'), ($'\U114D0', 'Tirhuta'), 
    ($'\U118C6', 'Warang_Citi'), ($'\U118D5', 'Warang_Citi'), ($'\U118E4', 'Warang_Citi'), 
    ($'\U11714', 'Ahom'), ($'\U11718', 'Ahom'), ($'\U1172A', 'Ahom'), 
    ($'\U144B9', 'Anatolian_Hieroglyphs'), ($'\U144EC', 'Anatolian_Hieroglyphs'), ($'\U14564', 'Anatolian_Hieroglyphs'), 
    ($'\U108E2', 'Hatran'), ($'\U108F2', 'Hatran'), ($'\U108F4', 'Hatran'), 
    ($'\U1128A', 'Multani'), ($'\U11296', 'Multani'), ($'\U11299', 'Multani'), 
    ($'\U10C8D', 'Old_Hungarian'), ($'\U10C90', 'Old_Hungarian'), ($'\U10CEB', 'Old_Hungarian'), 
    ($'\U1D866', 'SignWriting'), ($'\U1D89F', 'SignWriting'), ($'\U1D976', 'SignWriting'), 
    ($'\U1E904', 'Adlam'), ($'\U1E91E', 'Adlam'), ($'\U1E951', 'Adlam'), 
    ($'\U11C17', 'Bhaiksuki'), ($'\U11C23', 'Bhaiksuki'), ($'\U11C67', 'Bhaiksuki'), 
    ($'\U11C7F', 'Marchen'), ($'\U11C8B', 'Marchen'), ($'\U11CA4', 'Marchen'), 
    ($'\U1140D', 'Newa'), ($'\U1141D', 'Newa'), ($'\U11452', 'Newa'), 
    ($'\U104B3', 'Osage'), ($'\U104DB', 'Osage'), ($'\U104F7', 'Osage'), 
    ($'\U17428', 'Tangut'), ($'\U17561', 'Tangut'), ($'\U17B86', 'Tangut'), 
    ($'\U11D10', 'Masaram_Gondi'), ($'\U11D1A', 'Masaram_Gondi'), ($'\U11D35', 'Masaram_Gondi'), 
    ($'\U1B1A4', 'Nushu'), ($'\U1B280', 'Nushu'), ($'\U1B2D3', 'Nushu'), 
    ($'\U11A63', 'Soyombo'), ($'\U11A69', 'Soyombo'), ($'\U11A8E', 'Soyombo'), 
    ($'\U11A01', 'Zanabazar_Square'), ($'\U11A12', 'Zanabazar_Square'), ($'\U11A28', 'Zanabazar_Square'), 
    ($'\U11818', 'Dogra'), ($'\U11821', 'Dogra'), ($'\U11836', 'Dogra'), 
    ($'\U11D64', 'Gunjala_Gondi'), ($'\U11D98', 'Gunjala_Gondi'), ($'\U11DA0', 'Gunjala_Gondi'), 
    ($'\U11EE7', 'Makasar'), ($'\U11EEF', 'Makasar'), ($'\U11EF6', 'Makasar'), 
    ($'\U16E48', 'Medefaidrin'), ($'\U16E6A', 'Medefaidrin'), ($'\U16E79', 'Medefaidrin'), 
    ($'\U10D05', 'Hanifi_Rohingya'), ($'\U10D26', 'Hanifi_Rohingya'), ($'\U10D35', 'Hanifi_Rohingya'), 
    ($'\U10F36', 'Sogdian'), ($'\U10F3B', 'Sogdian'), ($'\U10F4A', 'Sogdian'), 
    ($'\U10F09', 'Old_Sogdian'), ($'\U10F10', 'Old_Sogdian'), ($'\U10F11', 'Old_Sogdian'), 
    ($'\U10FE1', 'Elymaic'), ($'\U10FE3', 'Elymaic'), ($'\U10FE4', 'Elymaic'), 
    ($'\U119AE', 'Nandinagari'), ($'\U119B7', 'Nandinagari'), ($'\U119CC', 'Nandinagari'), 
    ($'\U1E111', 'Nyiakeng_Puachue_Hmong'), ($'\U1E14E', 'Nyiakeng_Puachue_Hmong'), ($'\U1E14F', 'Nyiakeng_Puachue_Hmong'), 
    ($'\U1E2C5', 'Wancho'), ($'\U1E2CB', 'Wancho'), ($'\U1E2EC', 'Wancho'), 
    ($'\U10FB8', 'Chorasmian'), ($'\U10FC3', 'Chorasmian'), ($'\U10FCB', 'Chorasmian'), 
    ($'\U11911', 'Dives_Akuru'), ($'\U11912', 'Dives_Akuru'), ($'\U11957', 'Dives_Akuru'), 
    ($'\U18C31', 'Khitan_Small_Script'), ($'\U18C5E', 'Khitan_Small_Script'), ($'\U18CBB', 'Khitan_Small_Script'), 
    ($'\U10E92', 'Yezidi'), ($'\U10EA4', 'Yezidi'), ($'\U10EA7', 'Yezidi'), 
    ($'\U12FA6', 'Cypro_Minoan'), ($'\U12FBE', 'Cypro_Minoan'), ($'\U12FE1', 'Cypro_Minoan'), 
    ($'\U10F74', 'Old_Uyghur'), ($'\U10F7A', 'Old_Uyghur'), ($'\U10F88', 'Old_Uyghur'), 
    ($'\U16A9B', 'Tangsa'), ($'\U16AAA', 'Tangsa'), ($'\U16AAF', 'Tangsa'), 
    ($'\U1E294', 'Toto'), ($'\U1E295', 'Toto'), ($'\U1E2A4', 'Toto'), 
    ($'\U1058E', 'Vithkuqi'), ($'\U10597', 'Vithkuqi'), ($'\U105A8', 'Vithkuqi'), 
    ($'\U11F12', 'Kawi'), ($'\U11F24', 'Kawi'), ($'\U11F2D', 'Kawi'), 
    ($'\U1E4D5', 'Nag_Mundari'), ($'\U1E4E5', 'Nag_Mundari'), ($'\U1E4F2', 'Nag_Mundari'), 
    ($'\U10D63', 'Garay'), ($'\U10D70', 'Garay'), ($'\U10D80', 'Garay'), 
    ($'\U16106', 'Gurung_Khema'), ($'\U16108', 'Gurung_Khema'), ($'\U1610F', 'Gurung_Khema'), 
    ($'\U16D47', 'Kirat_Rai'), ($'\U16D4B', 'Kirat_Rai'), ($'\U16D5F', 'Kirat_Rai'), 
    ($'\U1E5DA', 'Ol_Onal'), ($'\U1E5EA', 'Ol_Onal'), ($'\U1E5F9', 'Ol_Onal'), 
    ($'\U11BC6', 'Sunuwar'), ($'\U11BF4', 'Sunuwar'), ($'\U11BF8', 'Sunuwar'), 
    ($'\U105D0', 'Todhri'), ($'\U105E5', 'Todhri'), ($'\U105E7', 'Todhri'), 
    ($'\U11382', 'Tulu_Tigalari'), ($'\U113BB', 'Tulu_Tigalari'), ($'\U113C9', 'Tulu_Tigalari'), 
    ($'\U10956', 'Sidetic'), ($'\U10958', 'Sidetic'), ($'\U10959', 'Sidetic'), 
    ($'\U1E6D3', 'Tai_Yo'), ($'\U1E6D9', 'Tai_Yo'), ($'\U1E6F5', 'Tai_Yo'), 
    ($'\U11DB4', 'Tolong_Siki'), ($'\U11DB8', 'Tolong_Siki'), ($'\U11DD2', 'Tolong_Siki'), 
    ($'\U16EA6', 'Beria_Erfe'), ($'\U16EAD', 'Beria_Erfe'), ($'\U16EBF', 'Beria_Erfe'), 
    ($'\U33A68', 'Unknown'), ($'\U9AB4B', 'Unknown'), ($'\UA8BB7', 'Unknown'), 
]

for e in $expected {
    assert $e._1 == $ucd.script($e._0)  : "$e"
}

$ex = 324
try { $ucd.script($'\uD800') } catch e { $ex = $e; } # surrogate
assert ($ex as ArgumentError).message() == 'must be valid single utf8 code point'

$ex = 34
try { $ucd.script($'„ÅÇ1') } catch e { $ex = $e; }
assert ($ex as ArgumentError).message() == 'must be valid single utf8 code point'

# emoji sequence property (for Unicode 17)
$expected = [
    ('',''), ('a', ''), ('„ÅÇ', ''), ($'\0', ''), ($'\U113C9', ''),('üáØüáØ', ''),
    ($'\U26EA', 'Basic_Emoji'), ($'\U2728', 'Basic_Emoji'), ($'\U267E\UFE0F', 'Basic_Emoji'), ($'\U1F6E5\UFE0F', 'Basic_Emoji'),
    ($'\U0033\UFE0F\U20E3', 'Emoji_Keycap_Sequence'), ($'\U0039\uFE0F\u20E3', 'Emoji_Keycap_Sequence'),
    ($'üáØüáµ', 'RGI_Emoji_Flag_Sequence'), ($'\U1F1ED\U1F1F3', 'RGI_Emoji_Flag_Sequence'), ($'\U1F1E6\U1F1FA', 'RGI_Emoji_Flag_Sequence'),
    ('üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø', 'RGI_Emoji_Tag_Sequence'),('üè¥Û†ÅßÛ†Å¢Û†Å≥Û†Å£Û†Å¥Û†Åø', 'RGI_Emoji_Tag_Sequence'),('üè¥Û†ÅßÛ†Å¢Û†Å∑Û†Å¨Û†Å≥Û†Åø', 'RGI_Emoji_Tag_Sequence'),
    ('üëÉüèΩ', 'RGI_Emoji_Modifier_Sequence'), ('üõåüèø', 'RGI_Emoji_Modifier_Sequence'), ('ü´∂üèΩ', 'RGI_Emoji_Modifier_Sequence'),
    ('üë®üèª‚Äç‚ù§Ô∏è‚Äçüë®üèº', 'RGI_Emoji_ZWJ_Sequence'),('üë®üèº‚Äçüéì', 'RGI_Emoji_ZWJ_Sequence'),('üßòüèæ‚Äç‚ôÄÔ∏è', 'RGI_Emoji_ZWJ_Sequence'), ('üßëüèæ‚Äçüê∞‚Äçüßëüèº', 'RGI_Emoji_ZWJ_Sequence'),
]

for e in $expected {
    assert $e._1 == $ucd.emoji($e._0)  : "$e"
}

$ex = 34
try { $ucd.emoji($'\U26EA@') } catch e { $ex = $e; }
assert ($ex as ArgumentError).message() == 'must be valid single grapheme cluster'

$ex = 34
try { $ucd.emoji($'\xFF') } catch e { $ex = $e; }
assert ($ex as ArgumentError).message() == 'must be valid single grapheme cluster'