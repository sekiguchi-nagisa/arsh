#$test($status = 0)

# int to float
var a1 = 12
var b1 = $a1 as Float
assert($b1 == 12.0)

# float to int 
var a2 = 3.14
var b2 = $a2 as Int
assert($b2 == 3)

# to string
var a3 = 12
var b3 = $a3 as String
assert $b3 is (String)
assert $b3 is ((String))
assert($b3 == "12")

# cast
var a4 = new Error("")
$a4 = new OutOfRangeError("")
($a4 as OutOfRangeError).show()

try {
	new Error("") as ArithmeticError
	assert($false)
} catch($e : TypeCastError) {
	assert($true)
}


## smart cast
var q = 2345 as Any
if($q is Int) {
    assert($q == 2345)
}

var r = 3.14 as Any
if $q is Int && $r is Float && $q as Float != $r {
  echo $q' != '$r
}

assert ($q is Int ? $q : 0) == 2345

assert $q is Int && $q.abs() == 2345

assert ($q is Int && $r is Float) && $q.toFloat() != $r

assert $q is Int && $r is Float ? $q.toFloat() != $r : false

## smart cast assignment
if $q is Int {
  $q = 999
}
assert $q is Int && $q == 999

if $q is Int {
  var q = 34
  $q = 9990000
}
assert $q is Int && $q == 999